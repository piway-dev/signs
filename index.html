<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Signs!</title>
    <link rel="icon" href="favicon.png" type="image/png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" integrity="sha512-5A8nwdMOWrSz20fDsjczgUidUBR8liPYU+WymTZP1lmY9G6Oc7HlZv156XqnsgNUzTyMefFTcsFH/tnJE/+xBg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  </head>
  <body>
    <div class="container">
        <h1>Signs!</h1>
        <div class="h-100 p-5 bg-body-tertiary border rounded-3">
            <label>Roleta</label>
            <div class="input-group mb-3">
                <input type="text" class="form-control" placeholder="Digite o nome da roleta ou selecione" aria-label="RouletteName" aria-describedby="basic-addon1" id="inputRouletteName">
                <button type="button" class="btn btn-outline-secondary" data-bs-toggle="dropdown" >Selecionar</button>
                <button type="button" class="btn btn-outline-secondary dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
                    <span class="visually-hidden">Toggle Dropdown</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                    <li><a class="dropdown-item" onclick="getRouletteNameInList(this)">Ao Vivo (Evolution)</a></li>
                    <li><a class="dropdown-item" onclick="getRouletteNameInList(this)">Brasileira (Evolution)</a></li>
                    <li><a class="dropdown-item" onclick="getRouletteNameInList(this)">Brasileira (Playtech)</a></li>
                    <!--<li><hr class="dropdown-divider"></li>-->
                </ul>
            </div>

            <!--
            <div class="mb-3">
                <button class="btn btn-outline-success" click="selectNumber(this)" name="buttonNumber">0</button>
                <button class="btn btn-outline-danger" click="selectNumber(this)" name="buttonNumber">1</button>
                <button class="btn btn-outline-dark" click="selectNumber(this)" name="buttonNumber">2</button>
                <button class="btn btn-outline-danger" click="selectNumber(this)" name="buttonNumber">3</button>
                <button class="btn btn-outline-dark" click="selectNumber(this)" name="buttonNumber">4</button>
                <button class="btn btn-outline-danger" click="selectNumber(this)" name="buttonNumber">5</button>
                <button class="btn btn-outline-dark" click="selectNumber(this)" name="buttonNumber">6</button>
                <button class="btn btn-outline-danger" click="selectNumber(this)" name="buttonNumber">7</button>
                <button class="btn btn-outline-dark" click="selectNumber(this)" name="buttonNumber">8</button>
                <button class="btn btn-outline-danger" click="selectNumber(this)" name="buttonNumber">9</button>
                <button class="btn btn-outline-dark" click="selectNumber(this)" name="buttonNumber">10</button>
                <button class="btn btn-outline-dark" click="selectNumber(this)" name="buttonNumber">11</button>
                <button class="btn btn-outline-danger" click="selectNumber(this)" name="buttonNumber">12</button>
                <button class="btn btn-outline-dark" click="selectNumber(this)" name="buttonNumber">13</button>
                <button class="btn btn-outline-danger" click="selectNumber(this)" name="buttonNumber">14</button>
                <button class="btn btn-outline-dark" click="selectNumber(this)" name="buttonNumber">15</button>
                <button class="btn btn-outline-danger" click="selectNumber(this)" name="buttonNumber">16</button>
                <button class="btn btn-outline-dark" click="selectNumber(this)" name="buttonNumber">17</button>
                <button class="btn btn-outline-danger" click="selectNumber(this)" name="buttonNumber">18</button>
                <button class="btn btn-outline-danger" click="selectNumber(this)" name="buttonNumber">19</button>
                <button class="btn btn-outline-dark" click="selectNumber(this)" name="buttonNumber">20</button>
                <button class="btn btn-outline-danger" click="selectNumber(this)" name="buttonNumber">21</button>
                <button class="btn btn-outline-dark" click="selectNumber(this)" name="buttonNumber">22</button>
                <button class="btn btn-outline-danger" click="selectNumber(this)" name="buttonNumber">23</button>
                <button class="btn btn-outline-dark" click="selectNumber(this)" name="buttonNumber">24</button>
                <button class="btn btn-outline-danger" click="selectNumber(this)" name="buttonNumber">25</button>
                <button class="btn btn-outline-dark" click="selectNumber(this)" name="buttonNumber">26</button>
                <button class="btn btn-outline-danger" click="selectNumber(this)" name="buttonNumber">27</button>
                <button class="btn btn-outline-dark" click="selectNumber(this)" name="buttonNumber">28</button>
                <button class="btn btn-outline-dark" click="selectNumber(this)" name="buttonNumber">29</button>
                <button class="btn btn-outline-danger" click="selectNumber(this)" name="buttonNumber">30</button>
                <button class="btn btn-outline-dark" click="selectNumber(this)" name="buttonNumber">31</button>
                <button class="btn btn-outline-danger" click="selectNumber(this)" name="buttonNumber">32</button>
                <button class="btn btn-outline-dark" click="selectNumber(this)" name="buttonNumber">33</button>
                <button class="btn btn-outline-danger" click="selectNumber(this)" name="buttonNumber">34</button>
                <button class="btn btn-outline-dark" click="selectNumber(this)" name="buttonNumber">35</button>
                <button class="btn btn-outline-danger" click="selectNumber(this)" name="buttonNumber">36</button>
            </div>
            -->

            <div class="row">
                <div class="col-lg-4 col-md-4">
                    <label>A√ß√£o ap√≥s n√∫mero</label>
                    <input type="number" maxlength="2" min="0" max="36" class="form-control" placeholder="Digite n√∫mero de sinal" id="inputSignalNumber">
                </div>

                <div class="col-lg-4 col-md-4">
                    <label>N√∫mero para apostar</label>
                    <input type="number" maxlength="2" min="0" max="36" class="form-control" placeholder="Digite o n√∫mero alvo" id="inputTargetNumber">
                </div>

                <div class="col-lg-4 col-md-4">
                    <label>N√∫mero de vizinhos</label>
                    <div class="input-group mb-3">
                        <button type="button" class="btn btn-outline-secondary" onclick="changeStep(-1)">
                            <i class="fa fa-minus"></i>
                        </button>
                        <input type="number" maxlength="2" min="0" max="18" value="6" class="form-control" placeholder="Digite n√∫mero de vizinhos" id="inputNumberOfNeighbors">
                        <button type="button" class="btn btn-outline-secondary" onclick="changeStep(1)">
                            <i class="fa fa-plus"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <hr>

            <button class="btn btn-primary" type="button" onclick="messageStartSession()">
                <i class="fa fa-play"></i> In√≠cio da sess√£o
            </button>

            <button class="btn btn-primary" type="button" onclick="messageSendSign()">
                <i class="fa fa-bullhorn"></i> Emitir sinal
            </button>

            <button class="btn btn-warning" type="button" onclick="messageMartingale(1)">
                <i class="fa fa-warning"></i> Gale 1
            </button>

            <button class="btn btn-warning" type="button" onclick="messageMartingale(2)">
                <i class="fa fa-warning"></i> Gale 2
            </button>            
            
            <button class="btn btn-success" type="button" onclick="messageGreen()">
                <i class="fa fa-thumbs-o-up"></i> Green
            </button> 

            <button class="btn btn-danger" type="button" onclick="messageRed()">
                <i class="fa fa-thumbs-o-down"></i> Red
            </button> 
        </div>

        <div class="toast align-items-center text-bg-success border-0 position-fixed top-0 end-0" role="alert" aria-live="assertive" aria-atomic="true" id="toastSuccess" data-bs-autohide="true" data-bs-delay="1000">
            <div class="d-flex">
              <div class="toast-body" id="textToastSuccess">
                TEXTO DE SUCESSO AQUI.
              </div>
              <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    
        <div class="toast align-items-center text-bg-danger border-0 position-fixed top-0 end-0" role="alert" aria-live="assertive" aria-atomic="true" id="toastDanger" data-bs-autohide="true" data-bs-delay="1000">
            <div class="d-flex">
              <div class="toast-body" id="textToastDanger">
                TEXTO DE ERRO AQUI.
              </div>
              <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    </div>
   
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    
    <script>
        var rouletteName = document.getElementById('inputRouletteName');
        var targetNumber = document.getElementById('inputTargetNumber');
        var numberOfNeighbors = document.getElementById('inputNumberOfNeighbors');
        var signalNumber = document.getElementById('inputSignalNumber');
        var componentToastSuccess = document.getElementById('toastSuccess');
        var componentToastDanger = document.getElementById('toastDanger');
        
        var toastSuccess = new bootstrap.Toast(componentToastSuccess);
        var toastDanger = new bootstrap.Toast(componentToastDanger);

        function getRouletteNameInList(link){
            rouletteName.value = link.innerHTML;
        }

        function changeStep(step){
            numberOfNeighbors.value = parseInt(numberOfNeighbors.value) + step;

            if (numberOfNeighbors.value < 0)
                numberOfNeighbors.value = 0;

            if (numberOfNeighbors.value > 18)
                numberOfNeighbors.value = 18;
        }

        function messageStartSession(){
            if (rouletteName.value == '') {
                setTextToast('textToastDanger', 'Informe ou selecione o nome da roleta.');
                toastDanger.show();
                rouletteName.focus();
                return;
            }

            let message = `
                üö®INICIO DA SESS√ÉO! üö®

                üé∞ Roleta: ${rouletteName.value}

                ‚è≥ Aguardando confirma√ß√£o...
                üîÑ Analisando padr√µes em tempo real...

                üí° Fique pronto! O sinal pode sair a qualquer momento! üéØüî•
            `;

            copyToClipboard(message);
        }

        function messageSendSign(){
            if (rouletteName.value == '') {
                setTextToast('textToastDanger', 'Informe ou selecione o nome da roleta.');
                toastDanger.show();
                rouletteName.focus();
                return;
            }

            if (signalNumber.value == '' || parseInt(signalNumber.value) < 0 || parseInt(signalNumber.value) > 36) {
                setTextToast('textToastDanger', 'Informe o n√∫mero de sinal entre 0 e 36.');
                toastDanger.show();
                signalNumber.focus();
                return;
            }

            if (targetNumber.value == '' || parseInt(targetNumber.value) < 0 || parseInt(targetNumber.value) > 36) {
                setTextToast('textToastDanger', 'Informe o n√∫mero alvo entre 0 e 36.');
                toastDanger.show();
                targetNumber.focus();
                return;
            }

            if (numberOfNeighbors.value == '' || parseInt(numberOfNeighbors.value) < 0 || parseInt(numberOfNeighbors.value) > 18) {
                setTextToast('textToastDanger', 'Informe o n√∫mero de vizinhos entre 0 e 18.');
                toastDanger.show();
                numberOfNeighbors.focus();
                return;
            }

            let message = `
                üî• SINAL CONFIRMADOüî•

                üé∞ Roleta: ${rouletteName.value}

                üé≤ N√∫mero para apostar:* ${targetNumber.value} com ${numberOfNeighbors.value} Vizinhos 
                ‚ö° A√ß√£o ap√≥s n√∫mero: ${signalNumber.value}

                üîî Fique atento e aposte com responsabilidade!
            `;

            copyToClipboard(message);
        }

        function messageMartingale(number){
            let message = `
                üö® Aplicar Gale ${number}
            `;

            copyToClipboard(message);
        }

        function messageGreen(){
            let message = `
                ‚úÖ Green
            `;

            copyToClipboard(message);
        }

        function messageRed(){
            let message = `
                üî¥ Red
            `;

            copyToClipboard(message);
        }

        async function copyToClipboard(text){
            try {
                await navigator.clipboard.writeText(text);

                setTextToast('textToastSuccess', 'Texto copiado para a √°rea de transfer√™ncia!')
                toastSuccess.show();
            } catch (err) {
                setTextToast('textToastDanger', 'Falha ao copiar texto.');
                toastDanger.show();
                
                console.error('Falha ao copiar texto: ', err);
            }
        }  

        function setTextToast(component, text){
            document.getElementById(component).innerHTML = text;
        }
    </script>
  </body>
</html>